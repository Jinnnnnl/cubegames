<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>çŒœçŒœæ˜¯å“ªå®¶</title>
    <link rel="stylesheet" href="../assets/css/guess-company.css">
</head>
<body>
    <div class="container">
        <h1>çŒœçŒœæ˜¯å“ªå®¶</h1>
        
        <div class="status-container">
            <div id="score-display" class="score-display">å¾—åˆ†: 0 | æ­£ç¡®ç‡: 0/0</div>
            <div id="card-count-display" class="card-count-display">å¡ç‰Œ: 0/0 (å‰©ä½™: 0)</div>
        </div>
        
        <div id="card-container" class="card-container">
            <!-- å¡ç‰Œå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
            <p>å‡†å¤‡å¼€å§‹æ¸¸æˆ...</p>
        </div>
        
        <div class="input-container">
            <div class="input-group">
                <input type="text" id="answer-input" placeholder="è¾“å…¥ç®¡ç†äººé¦–å­—æ¯ç¼©å†™..." autocomplete="off">
                <button id="submit-button" class="submit-button">æäº¤</button>
            </div>
            
            <div class="hint-group">
                <button id="hint-button" class="hint-button">ä¸‹ä¸€å¼ æç¤º ğŸ’¡</button>
                <div id="hint-status" class="hint-status"></div>
            </div>
            
            <div id="feedback-display" class="feedback"></div>
        </div>
        
        <div class="button-container">
            <button id="next-button" style="display: none;">ä¸‹ä¸€å¼ å¡ç‰Œ</button>
            <button id="reset-button">é‡ç½®æ¸¸æˆ</button>
            <button id="back-to-room" class="back-button">è¿”å›æˆ¿é—´</button>
        </div>
    </div>
    
    <!-- åˆ†äº«ç•Œé¢ -->
    <div id="share-container" class="share-container">
        <button id="share-close-button" class="close-button">&times;</button>
        <div class="share-content">
            <h2 class="share-title">æ­å–œä½ ç­”å¯¹äº†ï¼</h2>
            
            <div class="share-card">
                <img id="share-card-image" class="share-card-image" src="" alt="Card">
                <p id="share-card-answer" class="share-card-answer"></p>
            </div>
            
            <p class="share-message">ä½ èƒ½çŒœå¯¹å‡ ä¸ªï¼Ÿæ¥è¿™é‡Œè¯•è¯•å§ï¼</p>
            
            <img class="share-qr" src="../assets/wechat.jpg" alt="WeChat QR Code">
            
            <div class="share-buttons">
                <button class="share-button">åˆ†äº«</button>
                <button id="copy-link-button">å¤åˆ¶é“¾æ¥</button>
            </div>
        </div>
    </div>
    
    <!-- è„šæœ¬ -->
    <script src="../assets/js/cardManager.js"></script>
    <script src="../assets/js/game.js"></script>
    <script src="../assets/js/ui.js"></script>
    <script>
        // æ·»åŠ è¿”å›æˆ¿é—´åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            const backButton = document.getElementById('back-to-room');
            if (backButton) {
                backButton.addEventListener('click', function() {
                    // æ ‡è®°ä¸Šå¢™å·²å®Œæˆ
                    if (window.parent && window.parent.markWallCompleted) {
                        window.parent.markWallCompleted('top');
                    } else {
                        localStorage.setItem('topWallCompleted', 'true');
                    }
                    
                    // è¿”å›ä¸»æˆ¿é—´
                    if (window.opener) {
                        window.close();
                    } else {
                        window.location.href = '../index.html';
                    }
                });
            }
        });
    </script>
</body>
</html>